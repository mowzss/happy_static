{extend name="layout" /} {block name="content"} {notempty name="$search_code"}<div class="layui-card"><div class="layui-card-body"> {$search_code|raw}</div></div> {/notempty}<div class="layui-card"><div class="layui-card-header"> {$title|default="内容列表"}</div><div class="layui-card-body"><table class="layui-hide page-Table" id="{:get_lay_table_id()}" lay-filter="{:get_lay_table_id()}" data-url="{:url('index')}"></table></div></div><script type="text/html" id="{:get_lay_table_id()}-toolbarTop">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm " data-open="{:url('add')}">添加</button>
        {$top_button|default=""|raw}
    </div>
</script><script type="text/html" id="{:get_lay_table_id()}-tool">
    {$right_button|default=""|raw}
</script> {/block} {block name="js"}<script>
    layui.use(['laytable', 'dropdown', 'layer'], function () {
        let laytable = layui.laytable,
            layer = layui.layer,
            opt = {
                elem: '#{:get_lay_table_id()}',
                headers: {out: 'json'},
                cols: [JSON.parse('{$tables.fields|raw|json_encode}')],
                toolbar: "#{:get_lay_table_id()}-toolbarTop",
                page: true,
                dataUrls: {
                    add: "{:url('add')}",
                    edit: "{:url('edit')}",
                    del: "{:url('delete')}",
                    quick: "{:url('quickEdit')}",
                },
                toolTplData: JSON.parse('{$tables.right_button|default=[]|raw|json_encode}')
            }
        // 渲染表格
        laytable.render(opt);
    });
</script> {/block}