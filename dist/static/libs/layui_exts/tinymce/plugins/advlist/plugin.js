(()=>{var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let o=(e,t,r)=>{e.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===r?null:{"list-style-type":r})};var t=t=>e=>e.options.get(t);let l=t("advlist_number_styles"),s=t("advlist_bullet_styles"),r=e=>null==e,n=e=>!r(e);class i{constructor(e,t){this.tag=e,this.value=t}static some(e){return new i(!0,e)}static none(){return i.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?i.some(e(this.value)):i.none()}bind(e){return this.tag?e(this.value):i.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:i.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return n(e)?i.some(e):i.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}i.singletonNone=new i(!1);let a=Array.prototype.indexOf,u=(e,t)=>a.call(e,t),d=(e,t)=>-1<u(e,t),h=(r,l,s)=>{for(let e=0,t=r.length;e<t;e++){var n=r[e];if(l(n,e))return i.some(n);if(s(n,e))break}return i.none()},g=Object.keys,p=(r,l)=>{var s=g(r);for(let e=0,t=s.length;e<t;e++){var n=s[e];l(r[n],n)}},m=(e,r)=>c(e,(e,t)=>({k:t,v:r(e,t)})),c=(e,r)=>{let l={};return p(e,(e,t)=>{e=r(e,t);l[e.k]=e.v}),l};var v=tinymce.util.Tools.resolve("tinymce.util.Tools");let y=e=>/\btox\-/.test(e.className),f=(e,t)=>e.dom.isChildOf(t,e.getBody()),L=(t=t=>e=>n(e)&&t.test(e.nodeName))(/^(OL|UL|DL)$/),O=t(/^(TH|TD)$/),b=(t,e,r)=>h(e,e=>L(e)&&!y(e),O).exists(e=>e.nodeName===r&&f(t,e)),w=e=>{var t=e.dom.getParent(e.selection.getNode(),"ol,ul"),e=e.dom.getStyle(t,"listStyleType");return i.from(e)},N=(e,t)=>null!==t&&!e.dom.isEditable(t),S=(e,t)=>{t=e.dom.getParent(t,"ol,ul,dl");return N(e,t)||!e.selection.isEditable()},C=(e,t)=>{var r=e.selection.getNode();return t({parents:e.dom.getParents(r),element:r}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},x=e=>e.replace(/\-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),T=e=>r(e)||"default"===e?"":e,U=(r,s)=>l=>{let t=(e,t)=>{var r=e.selection.getStart(!0);l.setActive(b(e,t,s)),l.setEnabled(!S(e,r))};return C(r,e=>t(r,e.parents))},A=(r,e,t,l,s,n)=>{let i={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},a=m(i,e=>d(n,e));r.ui.registry.addSplitButton(e,{tooltip:t,icon:"OL"===s?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(v.map(n,e=>{var t="OL"===s?"num":"bull",r="disc"===e||"decimal"===e?"default":e;return{type:"choiceitem",value:T(e),icon:"list-"+t+"-"+r,text:x(e)}}))},onAction:()=>r.execCommand(l),onItemAction:(e,t)=>{o(r,s,t)},select:t=>w(r).exists(e=>t===e||i[e]===t&&!a[t]),onSetup:U(r,s)})},_=(e,t,r,l,s,n)=>{e.ui.registry.addToggleButton(t,{active:!1,tooltip:r,icon:"OL"===s?"ordered-list":"unordered-list",onSetup:U(e,s),onAction:()=>e.queryCommandState(l)||""===n?e.execCommand(l):o(e,s,n)})},k=(e,t,r,l,s,n)=>{1<n.length?A(e,t,r,l,s,n):_(e,t,r,l,s,T(n[0]))};e.add("advlist",e=>{var r,t;e.hasPlugin("lists")?((e=>{e=e.options.register;e("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),e("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})})(e),t=e,k(t,"numlist","Numbered list","InsertOrderedList","OL",l(t)),k(t,"bullist","Bullet list","InsertUnorderedList","UL",s(t)),(r=e).addCommand("ApplyUnorderedListStyle",(e,t)=>{o(r,"UL",t["list-style-type"])}),r.addCommand("ApplyOrderedListStyle",(e,t)=>{o(r,"OL",t["list-style-type"])})):console.error("Please use the Lists plugin together with the List Styles plugin.")})})();