tinymce.PluginManager.add("indent2em",function(e,t){function n(){var i=e.dom,t=e.selection.getSelectedBlocks(),d="";c.each(t,function(t){var e,n;"add"==(d=""==d?i.getStyle(t,"text-indent")==l?"remove":"add":d)?i.setStyle(t,"text-indent",l):(n=i.getAttrib(t,"style"),e=new RegExp("text-indent:[\\s]*"+l+";","ig"),n=n.replace(e,""),i.setAttrib(t,"style",n))})}var i,d,o="首行缩进",c=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=e.getParam("indent2em_val","2em");e.ui.registry.getAll().icons.indent2em||e.ui.registry.addIcon("indent2em",'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M170.666667 563.2v-102.4H887.466667v102.4zM170.666667 836.266667v-102.4H887.466667v102.4zM512 290.133333v-102.4H887.466667v102.4zM238.933333 341.333333V136.533333l204.8 102.4z" fill="#2c2c2c" p-id="5210"></path></svg>');return e.ui.registry.addToggleButton("indent2em",{icon:"indent2em",tooltip:o,onAction:function(){n()},onSetup:(i=e,d=['*[style*="text-indent"]','*[data-mce-style*="text-indent"]'],function(t){return i.selection.selectorChangedWithUnbind(d.join(","),t.setActive).unbind})}),e.ui.registry.addMenuItem("indent2em",{text:o,onAction:function(){n()}}),e.addCommand("indent2em",n),{getMetadata:function(){return{name:o,url:"http://tinymce.ax-z.cn/more-plugins/indent2em.php"}}}});