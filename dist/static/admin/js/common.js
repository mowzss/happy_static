let srcs=document.scripts[document.scripts.length-1].src.split("/");window.appRoot=srcs.slice(0,-3).join("/")+"/",window.baseRoot=srcs.slice(0,-2).join("/")+"/",window.$=window.jQuery=window.jQuery||layui.$||layui.jquery,layui.config({base:"/static/libs/layui_exts/",version:"4.0.3"}).extend({admin:"admin",pageTab:"pageTab",tiny:"tinymce/tiny",tinymce:"tinymce/tinymce.min",wangEdit:"wangEditor/wangEdit",wangEditor:"wangEditor/index",ueditor:"ueditor/ueditor",UE:"ueditor/ueditor.all.min",UECONFING:"ueditor/ueditor.config",laytable:"laytable",fieldHandler:"fieldHandler",popup:"extends/popup",count:"extends/count",toast:"extends/toast",nprogress:"extends/nprogress",echarts:"extends/echarts.min",echartsTheme:"extends/echartsTheme",yaml:"extends/yaml",uploads:"{/}//"+window.location.hostname+"/layui_exts/uploads?",formsbuild:"app/formsbuild",app:"app/app"}).use(["layer","jquery","popup"],function(){let r=layui.layer,d=layui.jquery,i=layui.popup,t=d("body");t.on("click","[data-modal]",function(e){e.preventDefault();let t=this.dataset.modal,a=d(this).text(),i=this.dataset.width||"800px",o=this.dataset.height||"auto",n=d(window).width(),s=i?i:1400<=n?"800px":"80%";d.ajax({url:t,method:"GET",success:function(t){if(t.code)return r.msg(t.msg);r.open({type:1,title:a,content:t,area:[s,o]}),d(e.target).data("removeAfterClick")&&d(e.target).remove()},error:function(t,e,a){console.error("Error:",e,a),r.msg("请求失败: "+e+", "+a,{icon:5})}})}),t.on("click","[data-href]",function(t){var e=this.dataset.href;window.open(e)}),t.on("click","[data-load]",function(t){var e=this.dataset.load,a=this.dataset.method||"get";d.ajax({url:e,type:a,dataType:"json",cache:!1,success:function(t){i.success(t.msg,function(){window.location.reload()})},error:function(t,e,a){return i.warming("Status:"+t.status+"，"+t.statusText+"，请稍后再试！")}})})});